DROP DATABASE DAVE_ONLINE_BOOKSTORE;
CREATE DATABASE DAVE_ONLINE_BOOKSTORE;
USE DAVE_ONLINE_BOOKSTORE;

CREATE TABLE WRITERS(
	WRITER_ID INT NOT NULL ,
	WRITER_NAME VARCHAR(20) NOT NULL,
	WRITER_EMAIL VARCHAR(30) NOT NULL,
	WRITER_COMMISSION INT NOT NULL
);
CREATE TABLE GENRES(
	GENRE_ID INT NOT NULL,
    GENRE_NAME VARCHAR(30) NOT NULL
);
CREATE TABLE PUBLISHERS(
	PUBLISHER_ID INT  NOT NULL,
    PUBLISHER_NAME VARCHAR(50)
);

CREATE TABLE BOOKS(
	BOOK_ID INT  NOT NULL ,
	BOOK_NAME VARCHAR(50) NOT NULL,
	BOOK_TYPE VARCHAR(20) NOT NULL,
	WRITER_ID INT NOT NULL,
    GENRE_ID INT NOT NULL,
    PUBLISHER_ID INT NOT NULL,
	BOOK_PRICE INT NOT NULL,
	BOOK_STOCK VARCHAR(20) NOT NULL
);

CREATE TABLE BOOKSTORE(
	STORE_ID INT NOT NULL ,
	STORE_NAME VARCHAR(30) NOT NULL,
	STORE_ADDRESS VARCHAR(20) NOT NULL
);

CREATE TABLE TRUCKS(
	TRUCK_ID INT NOT NULL ,
	DRIVER_NAME VARCHAR(20) NOT NULL
);

CREATE TABLE WORKERS(
	WORKER_ID INT NOT NULL,
	WORKER_NAME VARCHAR(20) NOT NULL,
	WORKER_SALARY INT NOT NULL,
	WORKER_TIME VARCHAR(20) NOT NULL,
	WORKER_TYPE VARCHAR(30) NOT NULL
);

CREATE TABLE CUSTOMERS(
	CUSTOMER_ID INT NOT NULL,
	CUSTOMER_NAME VARCHAR(20) NOT NULL,
	CUSTOMER_ADDRESS VARCHAR(20) NOT NULL,
	CUSTOMER_PHONE VARCHAR(20) NOT NULL
);

CREATE TABLE ORDERS(
	ORDER_ID INT NOT NULL,
	CUSTOMER_ID INT NOT NULL,
	TRUCK_ID INT NOT NULL,
	BOOK_ID INT NOT NULL,
	STORE_ID INT NOT NULL,
	ORDER_QUANTITY VARCHAR(20) NOT NULL,
	ARRIVAL VARCHAR(10) NOT NULL
);

CREATE TABLE WISH_LIST(
	WISH_LIST_ID INT NOT NULL,
	WISH_BOOK_NAME VARCHAR(50) NOT NULL,
	WISH_BOOK_TYPE VARCHAR(20) NOT NULL,
	CUSTOMER_ID INT NOT NULL
);
ALTER TABLE WRITERS ADD CONSTRAINT WRITER_ID PRIMARY KEY(WRITER_ID);
ALTER TABLE BOOKS ADD FOREIGN KEY (WRITER_ID) REFERENCES WRITERS(WRITER_ID);

ALTER TABLE TRUCKS ADD CONSTRAINT TRUCK_ID PRIMARY KEY(TRUCK_ID);
ALTER TABLE ORDERS ADD FOREIGN KEY (TRUCK_ID) REFERENCES TRUCKS(TRUCK_ID);

ALTER TABLE BOOKSTORE ADD CONSTRAINT STORE_ID PRIMARY KEY(STORE_ID);
ALTER TABLE ORDERS ADD FOREIGN KEY (STORE_ID) REFERENCES BOOKSTORE(STORE_ID);

ALTER TABLE PUBLISHERS ADD CONSTRAINT PUBLISHER_ID PRIMARY KEY(PUBLISHER_ID);
ALTER TABLE BOOKS ADD FOREIGN KEY (PUBLISHER_ID) REFERENCES PUBLISHERS(PUBLISHER_ID);

ALTER TABLE GENRES ADD CONSTRAINT GENRE_ID PRIMARY KEY(GENRE_ID);
ALTER TABLE BOOKS ADD FOREIGN KEY (GENRE_ID) REFERENCES GENRES(GENRE_ID);

ALTER TABLE BOOKS ADD CONSTRAINT BOOK_ID PRIMARY KEY(BOOK_ID);
ALTER TABLE ORDERS ADD FOREIGN KEY (BOOK_ID) REFERENCES BOOKS(BOOK_ID);

ALTER TABLE CUSTOMERS ADD CONSTRAINT CUSTOMER_ID PRIMARY KEY(CUSTOMER_ID);
ALTER TABLE ORDERS ADD FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID);









